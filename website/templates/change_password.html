<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/assets/logo.css') }}" />

    <!-- FONTAWESOME LOCALLY STORED LINK -->
    {#
    <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome/css/solid.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome/css/brands.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome/css/fontawesome.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome/css/all.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome/css/v4-shims.css') }}" />#}
    
    <!-- FONTAWESOME ONLINE LINK -->
    <script src="https://kit.fontawesome.com/78fe799ed6.js" crossorigin="anonymous"></script>

    <title>Change Password</title>
  </head>
  <body>
    
    {# FLASHED MESSAGES #}
    {% with messages = get_flashed_messages(with_categories=true) %} 
    {% if messages %} 
    {% for category, message in messages %} 
    {% if category == 'error' %}
    {# ERROR CATEGORY MESSAGES #}
    <div class="alert error w-full flex-tc">
      <p class='message text-sm w-600'>{{ message }}</p>
      <button type="button" id="flashed-messages-close-btn" class="close button" data-dismiss="alert">
        <i aria-hidden="true" class="fa fa-close icon"></i>
      </button>
    </div>
    {% else %}
    {# SUCCESS CATEGORY MESSAGES #}
    <div class="alert success w-full flex-tc">
      <p class='message text-sm w-600'>{{ message }}</p>
      <button type="button" id="flashed-messages-close-btn" class="close button" data-dismiss="alert">
        <i aria-hidden="true" class="fa fa-close icon"></i>
      </button>
    </div>
    {% endif %} 
    {% endfor %} 
    {% endif %} 
    {% endwith %}

    <main class="container">
        <div id="signin" class="form un-signin">
            <!-- CHANGE PASSWORD FORM -->
            <form method="POST" action="." class='signin-form w-full flex-c-c dir-col' >
                <h3 class="title text-lg w-600">Login account</h3>
    
                <!-- CHANGE PASSWORD INPUTS SECTION -->
                <div class="input">
                    <i class="icon fa fa-lock"></i>
                    <input name="password" class="name" type="password" placeholder="(Password)" required/>
                </div>
                <div class="input">
                    <i class="icon fa fa-send-o"></i>
                    <input name="password2" class="password2" type="password" placeholder="(Confirm Password)" required/>
                </div>
    
                <!-- SUBMIT BUTTON ( TO LOG IN ) -->
                <button type="submit" id="signin-submit" class="submit text-sm w-600" name="signin">Sign In</button>
            </form>
    </main>
    
    {# PAGE JS CONTENT #}
    {% block js %}
    <script>
      const closeMessagesBtn = document.getElementById('flashed-messages-close-btn');
      const parentCloseMessagesBtn = closeMessagesBtn.parentNode;

      // Removes Flashed messages on click of the close button
      closeMessagesBtn.addEventListener('click', () => {
          parentCloseMessagesBtn.remove();
      });

      // Removes Flashed messages after 5 seconds (5000 milliseconds)
      setTimeout(() => {
          parentCloseMessagesBtn.remove();
      }, 5000);
    </script>
    {% endblock %}
  </body>
</html>
